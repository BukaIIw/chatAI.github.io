<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>GAMESENSE LOG ANALYZER</title>
    <style>
        body { background: #121212; color: #fff; font-family: monospace; padding: 20px; }
        .container { max-width: 800px; margin: 0 auto; }
        textarea { width: 100%; height: 150px; bg: #222; color: #0f0; border: 1px solid #444; padding: 10px; }
        button { background: #9be15d; color: #000; border: none; padding: 10px 20px; font-weight: bold; cursor: pointer; margin-top: 10px; }
        .result { margin-top: 20px; }
        .card { background: #1e1e1e; padding: 15px; margin-bottom: 10px; border-left: 5px solid red; }
        .reason { color: #ff4d4d; font-weight: bold; }
        .fix { color: #9be15d; margin-top: 5px; font-style: italic; }
    </style>
</head>
<body>

<div class="container">
    <h1>LOG ANALYZER <span style="color:#666">// HVH FIX</span></h1>
    <p>–°–∫–æ–ø–∏—Ä—É–π —Å—Ç—Ä–æ–∫–∏ <code>[WEB_LOG]</code> –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ —á–∏—Ç–∞ –∏ –≤—Å—Ç–∞–≤—å —Å—é–¥–∞:</p>
    <textarea id="logs" placeholder='–ü—Ä–∏–º–µ—Ä: [WEB_LOG] { "target": "Enemy", "reason": "spread", "hc": 50, "dmg": 20, "angle": 58 }'></textarea>
    <button onclick="analyze()">–ê–ù–ê–õ–ò–ó–ò–†–û–í–ê–¢–¨ –ü–†–û–ú–ê–•–ò</button>
    
    <div id="output" class="result"></div>
</div>

<script>
function analyze() {
    let text = document.getElementById("logs").value;
    let lines = text.split("\n");
    let output = document.getElementById("output");
    output.innerHTML = "";

    lines.forEach(line => {
        if (line.includes("[WEB_LOG]")) {
            try {
                let jsonPart = line.substring(line.indexOf("{"));
                let data = JSON.parse(jsonPart);
                
                let advice = "";
                let color = "red";

                // –ê–ù–ê–õ–ò–ó –ü–†–ò–ß–ò–ù–´
                if (data.reason === "spread") {
                    advice = "FIX: –£–≤–µ–ª–∏—á—å Minimum Hitchance (–ø–æ—Å—Ç–∞–≤—å 60+) –∏–ª–∏ –≤–∫–ª—é—á–∏ SafePoint.";
                    color = "orange";
                } else if (data.reason === "prediction error") {
                    advice = "FIX: –í—Ä–∞–≥ –ª–∞–≥–∞–µ—Ç. –í–∫–ª—é—á–∏ 'Force SafePoint' –≤ —Ä–µ–∑–æ–ª—å–≤–µ—Ä–µ.";
                } else if (data.reason === "?" || data.reason === "unknown") {
                    advice = "FIX: –≠—Ç–æ DESYNC. –¢–≤–æ–π —É–≥–æ–ª (" + data.angle + ") –Ω–µ–≤–µ—Ä–Ω—ã–π. –ü–æ–ø—Ä–æ–±—É–π 58 –∏–ª–∏ -58.";
                } else {
                    advice = "FIX: –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞. –ü—Ä–æ–≤–µ—Ä—å –ø–∏–Ω–≥.";
                }

                let html = `
                <div class="card" style="border-color: ${color}">
                    <div>Target: <b>${data.target}</b></div>
                    <div class="reason">Reason: ${data.reason}</div>
                    <div>Angle: ${data.angle}¬∞ | Hitchance: ${data.hc}%</div>
                    <div class="fix">üí° ${advice}</div>
                </div>`;
                
                output.innerHTML += html;
            } catch (e) {
                console.log("Error parsing line");
            }
        }
    });
}
</script>

</body>
</html>
