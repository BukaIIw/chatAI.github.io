<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Проверка Java-кода</title>
  <style>
    body { font-family: sans-serif; padding:20px; background:#f9f9f9; }
    textarea { width:100%; height:200px; font-family: monospace; font-size:14px; }
    button { margin-top:10px; padding:8px 16px; background:#1976d2; color:white; border:none; border-radius:4px; cursor:pointer;}
    pre { background:#222; color:#0f0; padding:10px; border-radius:6px; margin-top:15px; white-space:pre-wrap; }
    .error { color:#ff4444; }
  </style>
</head>
<body>
  <h1>Проверка Java-кода</h1>
  <p>Вставь свой код ниже и нажми «Проверить»:</p>
  <textarea id="code">// Напиши что-нибудь...</textarea><br>
  <button onclick="checkCode()">Проверить</button>
  <pre id="result"></pre>

  <script>
    function checkCode() {
      const lines = document.getElementById("code").value.split("\n");
      let errors = [];
      let openBraces = 0;

      lines.forEach((line, i) => {
        const num = i+1;
        if (line.includes("System.out.println") && !line.trim().endsWith(";")) {
          errors.push("Строка " + num + ": System.out.println без ';'");
        }
        if (line.includes("{")) openBraces++;
        if (line.includes("}")) openBraces--;
        if (/public\s+static\s+void\s+main/.test(line) && !line.includes("String")) {
          errors.push("Строка " + num + ": main должен иметь аргумент String[] args");
        }
      });

      if (openBraces !== 0) {
        errors.push("Несбалансированные фигурные скобки { }");
      }

      // Обязательные элементы
      if (!document.getElementById("code").value.includes("class ")) {
        errors.push("Нет объявления class");
      }
      if (!document.getElementById("code").value.includes("main")) {
        errors.push("Нет метода main");
      }

      let resultBox = document.getElementById("result");
      if (errors.length === 0) {
        resultBox.textContent = "✅ Ошибок не найдено!";
        resultBox.style.color = "#0f0";
      } else {
        resultBox.innerHTML = errors.map(e => "❌ " + e).join("\n");
        resultBox.style.color = "#f44";
      }
    }
  </script>
</body>
</html>
