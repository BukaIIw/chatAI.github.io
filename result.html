<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–í–∞—à IQ ‚Äî –†–µ–∑—É–ª—å—Ç–∞—Ç</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            background: #f9f9f9;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 30px;
            text-align: center;
        }
        .result-box {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            margin: 30px 0;
        }
        .iq-score {
            font-size: 4em;
            font-weight: bold;
            color: #2c3e50;
            margin: 20px 0;
        }
        .level {
            font-size: 1.4em;
            font-weight: 500;
            color: #3498db;
            margin: 10px 0;
        }
        .description {
            font-size: 1.1em;
            line-height: 1.6;
            margin-bottom: 30px;
            color: #555;
        }
        .btn {
            background: #3498db;
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            cursor: pointer;
            margin: 10px;
            text-decoration: none;
            display: inline-block;
        }
        .btn:hover { background: #2980b9; }
        .correct-list {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-top: 30px;
            text-align: left;
            font-size: 0.95em;
            line-height: 1.5;
        }
    </style>
</head>
<body>

<h1>üìà –í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç</h1>

<div class="result-box">
    <div class="iq-score" id="score">...</div>
    <div class="level" id="level">...</div>
    <div class="description" id="desc">–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –≤–∞—à –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å...</div>

    <a href="test.html" class="btn">üîÅ –ü—Ä–æ–π—Ç–∏ —Å–Ω–æ–≤–∞</a>
    <a href="leaderboard.html" class="btn" style="background:#2ecc71;">üèÜ –¢–û–ü —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</a>
    <a href="index.html" class="btn" style="background:#95a5a6;">‚åÇ –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>

    <div class="correct-list" id="details">
        <!-- –°–ø–∏—Å–æ–∫ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö/–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö -->
    </div>
</div>

<script>
    const answers = JSON.parse(localStorage.getItem('iq_answers') || '[]');

    const questions = [
        {text: "1. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 2, 4, 8, 16, ___", correct: "b"},
        {text: "2. –ï—Å–ª–∏ –≤—Å–µ –ë–ª–∏–º–ø—ã ‚Äî —ç—Ç–æ –ö—Ä—É–º—ã, –∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ö—Ä—É–º—ã ‚Äî –ó–æ–Ω–¥—ã, —Ç–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ª–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ë–ª–∏–º–ø—ã ‚Äî –ó–æ–Ω–¥—ã?", correct: "c"},
        {text: "3. –ö–∞–∫–æ–µ —á–∏—Å–ª–æ –ª–∏—à–Ω–µ–µ: 3, 5, 7, 12, 17, 19", correct: "c"},
        {text: "4. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ: –Ø–Ω–≤–∞—Ä—å ‚Äî 31, –§–µ–≤—Ä–∞–ª—å ‚Äî 28, –ú–∞—Ä—Ç ‚Äî ?", correct: "c"},
        {text: "5. –ê–Ω—Ç–æ–Ω–∏–º —Å–ª–æ–≤–∞ '–©–µ–¥—Ä—ã–π'", correct: "b"},
        {text: "6. 1, 1, 2, 3, 5, 8, ___", correct: "c"},
        {text: "7. –ï—Å–ª–∏ A –±–æ–ª—å—à–µ B, –∞ B –º–µ–Ω—å—à–µ C, —Ç–æ A ___ C", correct: "d"},
        {text: "8. –ö–∞–∫–∞—è —Ñ–∏–≥—É—Ä–∞ –ª–∏—à–Ω—è—è? (–ö—Ä—É–≥, –ö–≤–∞–¥—Ä–∞—Ç, –¢—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫, –ö—É–±)", correct: "d"},
        {text: "9. 5 –∫–æ—à–µ–∫ –ª–æ–≤—è—Ç 5 –º—ã—à–µ–∫ –∑–∞ 5 –º–∏–Ω—É—Ç. –°–∫–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ –∫–æ—à–µ–∫, —á—Ç–æ–±—ã –ø–æ–π–º–∞—Ç—å 100 –º—ã—à–µ–∫ –∑–∞ 100 –º–∏–Ω—É—Ç?", correct: "a"},
        {text: "10. –ß—Ç–æ –æ–±—â–µ–≥–æ —É —Å–ª–æ–≤–∞ '–∞—Ä—Ñ–∞' –∏ —á–∏—Å–ª–∞ '5'?", correct: "b"}
    ];

    function calculateIQ() {
        if (answers.length === 0) return { score: 0, iq: 80, level: "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ" };

        let correctCount = 0;
        for (let i = 0; i < answers.length; i++) {
            if (answers[i] === questions[i].correct) {
                correctCount++;
            }
        }

        // IQ = 100 + (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ * 8) ‚Üí –º–∞–∫—Å–∏–º—É–º 180
        const iq = 100 + correctCount * 8;
        let level = "–°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å";

        if (iq >= 130) level = "–í—ã—Å–æ–∫–∏–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç";
        if (iq >= 145) level = "–û–¥–∞—Ä—ë–Ω–Ω—ã–π";
        if (iq >= 160) level = "–ì–µ–Ω–∏–π";
        if (iq >= 175) level = "–ì–µ–Ω–∏–π+";

        return { score: correctCount, iq, level, total: answers.length };
    }

    function showDetails() {
        let html = "<h4>–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏:</h4>";
        for (let i = 0; i < answers.length; i++) {
            const isCorrect = answers[i] === questions[i].correct;
            html += `
                <div>${questions[i].text}<br>
                <strong style="color:${isCorrect ? '#27ae60' : '#e74c3c'}">
                    ${isCorrect ? '‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ' : '‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ'}
                </strong></div><hr>
            `;
        }
        document.getElementById('details').innerHTML = html;
    }

    const result = calculateIQ();
    document.getElementById('score').innerText = result.iq;
    document.getElementById('level').innerText = result.level;
    document.getElementById('desc').innerText = `–í—ã –æ—Ç–≤–µ—Ç–∏–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞ ${result.score} –∏–∑ 10 –≤–æ–ø—Ä–æ—Å–æ–≤.`;

    showDetails();

    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –¢–û–ü
    const leaders = JSON.parse(localStorage.getItem('iq_leaders') || '[]');
    leaders.push({
        id: '#' + Math.floor(Math.random() * 900000 + 100000),
        iq: result.iq,
        score: result.score,
        date: new Date().toLocaleString('ru-RU')
    });
    localStorage.setItem('iq_leaders', JSON.stringify(leaders));
</script>

</body>
</html>
